<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>StarWars</title>

    <!-- Added link to the jQuery Library -->
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>
<body>

<!-- Jumbotron for Title -->
<div class="title">
    <h1>Starwars RPG</h1>
</div>

<div class="container">

    <div>

        <!-- Characters -->
        <div>
            <div class="container">
               
                <div class="one">
                    <button id="obiWan" class="btn btn-primary obi" char="Obi-Wan Kenobi" health="120" attack="8" counter="10"><h1>Obi-Wan Kenobi</h1><img src="assets/images/obi.png" alt="Obi-Wan" style="width:200px;height:150px;"> <h1 id="obiHealth">120</h1></button>
                </div>

                <div class="two">
                    <button id="luke" class="btn btn-primary luke" char="Luke Skywalker" health="100" attack="10" counter="5"><h1>Luke Skywalker</h1><img src="assets/images/luke.jpg" alt="Luke" style="width:200px;height:150px;"><h1 id="lukeHealth">100</h1></button>
                </div>

                <div class="three">
                    <button id="emperor" class="btn btn-primary emperor" char="Darth Sidious" health="150" attack="9" counter="20"><h1>Darth Sidious</h1><img src="assets/images/emperor.jpg" alt="Emperor" style="width:200px;height:150px;"><h1 id="emperorHealth">150</h1></button>
                </div>

                <div class="four">
                    <button id="maul" class="btn btn-primary maul" char="Darth Maul" health="180" attack="6" counter="25"><h1>Darth Maul</h1><img src="assets/images/maul.jpg" alt="Darth Maul" style="width:200px;height:150px;"><h1 id="maulHealth">180</h1></button>
                </div> 

            </div>
        </div>

        <div>
            <h3 class="yourChar">Your Character</h3>
        </div>
        <!-- Enemies -->
        <div>
            <div>
                <div>
                    <h3 class="enemies">Enemies Available To Attack</h3>
                </div>
               


                <div>
                    <h3 class="fightSection">Fight Section</h3>
                </div>
                <div>
                    <button id="attack" class="attack"><h1>Attack</h1></button>
                <div>
                    <h3 class="defender">Defender</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    //initial declarations

    var obi = false;
    var luke = false;
    var emperor = false;
    var maul = false; 

    var battleMode = false;

    var player1 = "";
    var healthP1 = 0;
    var attackP1 = 0;
    var counterP1 = 0;
    
    var player2 = "";
    var healthP2 = 0;
    var attackP2 = 0;
    var counterP2 = 0;
  
    var defaultAttack = 0;

    var bothAlive = true;

    var lastEnemy = false;
    /*Initial Button Presses*/

    function resetP2(){
        player2 = "";
        healthP2 = 0;
        attackP2 = 0;
        counterP2 = 0;
    }
    
    // Obi-Wan
    $(".obi").on("click", function(){

        //Player 1 = Obi-Wan Kenobi                          
        if(obi==false && luke==false && emperor==false && maul==false){
            
            $("#luke").attr("id","moveLuke");
            $("#emperor").attr("id","moveEmp");
            $("#maul").attr("id","moveMaul");
            $('.fightSection').removeClass('fightSection').addClass('fightSection2');
            $('.attack').removeClass('attack').addClass('attack2');
            $('.defender').removeClass('defender').addClass('defender2');
            $('.yourChar').removeClass('yourChar').addClass('yourChar2');
            $('.enemies').removeClass('enemies').addClass('enemies2');

            
            obi = true;
            battleMode=false;

            $input = $ (this); 
            player1 += $input.attr("char");
            healthP1 += parseInt($input.attr("health"));
            attackP1 += parseInt($input.attr("attack"));
            counterP1 += parseInt($input.attr("counter"));
            defaultAttack += attackP1;
            console.log("player1: "+player1);
        }
        
        //player1 = Luke  --- Player 2 = Obi-Wan
        else if(obi==false && luke==true && emperor ==false && maul==false && battleMode==false){
             
            $("#moveObi").attr("id","obiDef");
            $("#moveEmp").attr("id","moveEmp4");
            $("#moveMaul").attr("id","moveMaul3");


            battleMode = true;
            obi =true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);

        }
        // Player 1 = Emperor  --- Player 2 = Obi-Wan
        else if(obi==false && luke==false && emperor ==true && maul==false && battleMode==false){

            $("#moveObi").attr("id","obiDef");
            $("#moveLuke3").attr("id","moveLuke");
            $("#moveMaul").attr("id","moveMaul3");

            battleMode = true;
            obi =true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Darth Maul  --- Player 2 = Obi-Wan
        else if(obi==false && luke==false && emperor ==false && maul==true && battleMode==false){

            $("#moveObi").attr("id","obiDef");
            $("#moveLuke3").attr("id","moveLuke");
            $("#moveEmp3").attr("id","moveEmp");

            battleMode = true;
            obi =true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        //Player1 = Obi-Wan (re-click)
        else if(obi==true && luke==false && emperor==false && maul==false && battleMode==false){
          
            console.log("you already picked obi");   
        }
        //second player2 = ObiWan 
        else if(obi==false && luke==false && emperor==true && maul==true){
            battleMode = true;
            obi=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = ObiWan 
        else if(obi==false && luke==true && emperor==true && maul==false){
            battleMode = true;
            obi=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = ObiWan 
        else if(obi==false && luke==true && emperor==false && maul==true){
            battleMode = true;
            obi=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //third player 2 = Obi-Wan
        else if(obi==false && luke==true && emperor==true && maul==true){
            battleMode = true;
            obi=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Third player2: "+player2);
            bothAlive = true;
        }


    });

    
    $(".luke").on("click", function(){  
        // Player 1 = Luke                       
        if(obi==false && luke==false && emperor==false && maul==false){

            $("#luke").attr("id","moveLuke2");
            $("#obiWan").attr("id","moveObi");
            $("#emperor").attr("id","moveEmp");
            $("#maul").attr("id","moveMaul");
            $('.fightSection').removeClass('fightSection').addClass('fightSection2');
            $('.attack').removeClass('attack').addClass('attack2');
            $('.defender').removeClass('defender').addClass('defender2');
            $('.yourChar').removeClass('yourChar').addClass('yourChar2');
            $('.enemies').removeClass('enemies').addClass('enemies2');
         
            luke = true;
            battleMode=false;

            $input = $ (this); 
            player1 += $input.attr("char");
            healthP1 += parseInt($input.attr("health"));
            attackP1 += parseInt($input.attr("attack"));
            counterP1 += parseInt($input.attr("counter"));
            defaultAttack += attackP1;
            console.log("player1: "+player1);
           
        }
        //Player1 = Obi-Wan --- Player 2 = Luke
        else if(obi==true && luke==false && emperor ==false && maul==false && battleMode==false){
             
            
            $("#moveLuke").attr("id","lukeDef");
            $("#moveEmp").attr("id","moveEmp4");
            $("#moveMaul").attr("id","moveMaul3");
            

            luke = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
           healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
            
        }
        // Player 1 = Emperor --- Player 2 = Luke
        else if(obi==false && luke==false && emperor ==true && maul==false && battleMode==false){

            $("#moveLuke3").attr("id","lukeDef");
            $("#moveMaul").attr("id","moveMaul3");

            luke = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Darth Maul --- Player 2 = Luke
        else if(obi==false && luke==false && emperor ==false && maul==true && battleMode==false){

            $("#moveLuke3").attr("id","lukeDef");
            $("#moveEmp3").attr("id","moveEmp");
           

            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Luke (re-click)
        else if(obi==false && luke ==true && emperor==false && maul==false && battleMode==false){
            console.log("you already picked luke")
        }
        //Second Player 2 = Luke 
        else if(obi==false && luke==false && emperor==true && maul==true){
            battleMode = true;
            luke=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Luke 
        else if(obi==true && luke==false && emperor==true && maul==false){
            battleMode = true;
            luke=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Luke 
        else if(obi==true && luke==false && emperor==false && maul==true){
            battleMode = true;
            luke=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //third player 2 = Luke
        else if(obi==true && luke==false && emperor==true && maul==true){
            battleMode = true;
            luke=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Third player2: "+player2);
            bothAlive = true;
        }


    });

    
    $(".emperor").on("click", function(){    
        //Player 1 = Emperor                      
       if(obi==false && luke==false && emperor==false && maul==false ){
            
            $("#emperor").attr("id","moveEmp2");
            $("#obiWan").attr("id","moveObi");
            $("#luke").attr("id","moveLuke3");
            $("#maul").attr("id","moveMaul");
            $('.fightSection').removeClass('fightSection').addClass('fightSection2');
            $('.attack').removeClass('attack').addClass('attack2');
            $('.defender').removeClass('defender').addClass('defender2');
            $('.yourChar').removeClass('yourChar').addClass('yourChar2');
            $('.enemies').removeClass('enemies').addClass('enemies2');

            emperor = true;
            battleMode=false;

            $input = $ (this); 
            player1 += $input.attr("char");
            healthP1 += parseInt($input.attr("health"));
            attackP1 += parseInt($input.attr("attack"));
            counterP1 += parseInt($input.attr("counter"));
            defaultAttack += attackP1;
            console.log("player1: "+player1);
        }
        //Player 1 = Luke --- Player 2 = Emperor
        else if(obi==false && luke==true && emperor ==false && maul==false && battleMode==false){

            
            $("#moveEmp").attr("id","empDef");
            $("#moveMaul").attr("id","moveMaul3");

            emperor = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        //Player1 = Obi-Wan --- Player 2 = Emperor 
        else if(obi==true && luke==false && emperor ==false && maul==false && battleMode==false){

            $("#moveEmp").attr("id","empDef");
            $("#moveMaul").attr("id","moveMaul3");

            emperor = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Darth Maul --- Player 2 = Emperor
        else if(obi==false && luke==false && emperor ==false && maul==true && battleMode==false){

            $("#moveEmp3").attr("id","empDef");
            

            emperor = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Emperor (re-click)
        else if(obi==false && luke==false && emperor==true && maul==false && battleMode==false){
          
            console.log("you already picked emperor");
            
        }
        //second player2 = Emperor
        else if(obi==false && luke==true && emperor==false && maul==true){
            battleMode = true;
            emperor=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Emperor
        else if(obi==true && luke==false && emperor==false && maul==true){
            battleMode = true;
            emperor=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Emperor
        else if(obi==true && luke==true && emperor==false && maul==false){
            battleMode = true;
            emperor=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //third player 2 = emperor
        else if(obi==true && luke==true && emperor==false && maul==true){
            battleMode = true;
            emperor=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Third player2: "+player2);
            bothAlive = true;
        }
        
    });


    $(".maul").on("click", function(){ 
    // Player 1 = Darth Maul                          
        if(obi==false && luke==false && emperor==false && maul==false){

            $("#maul").attr("id","moveMaul2");
            $("#obiWan").attr("id","moveObi");
            $("#luke").attr("id","moveLuke3");
            $("#emperor").attr("id","moveEmp3");
            $('.fightSection').removeClass('fightSection').addClass('fightSection2');
            $('.attack').removeClass('attack').addClass('attack2');
            $('.defender').removeClass('defender').addClass('defender2');
            $('.yourChar').removeClass('yourChar').addClass('yourChar2');
            $('.enemies').removeClass('enemies').addClass('enemies2');
           
            maul = true;
            battleMode=false;

            $input = $ (this); 
            player1 += $input.attr("char");
            healthP1 += parseInt($input.attr("health"));
            attackP1 += parseInt($input.attr("attack"));
            counterP1 += parseInt($input.attr("counter"));
            defaultAttack += attackP1;
            console.log("player1: "+player1);
       
        }
        // Player 1 = Luke --- Player 2 = Darth Maul     
        else if(obi==false && luke==true && emperor ==false && maul==false && battleMode==false){

            $("#moveMaul").attr("id","maulDef");

            maul = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
           healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        //Player1 = Obi-Wan --- Player 2 = Darth Maul 
        else if(obi==true && luke==false && emperor ==false && maul==false && battleMode==false){

            $("#moveMaul").attr("id","maulDef");

            maul = true;
            battleMode = true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Emperor --- Player 2 = Darth Maul
        else if(obi==false && luke==false && emperor ==true && maul==false && battleMode==false){

            $("#moveMaul").attr("id","maulDef");
            
            maul = true;
            battleMode = true;
            c$input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("player2: "+player2);
        }
        // Player 1 = Darth Maul (re-click)
        else if(obi==false && luke==false && emperor==false && maul==true && battleMode==false){
        
            console.log("you already picked maul");
            
        }
        //second player2 = Maul
        else if(obi==false && luke==true && emperor==true && maul==false){
            battleMode = true;
            maul=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Maul
        else if(obi==true && luke==false && emperor==true && maul==false){
            battleMode = true;
            maul=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //second player2 = Maul
        else if(obi==true && luke==true && emperor==false && maul==false){
            battleMode = true;
            maul=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Second player2: "+player2);
            bothAlive = true;
        }
        //third player 2 = maul
        else if(obi==true && luke==true && emperor==true && maul==false){
            battleMode = true;
            maul=true;
            $input = $ (this); 
            player2 += $input.attr("char");
            healthP2 += parseInt($input.attr("health"));
            attackP2 += parseInt($input.attr("attack"));
            counterP2 += parseInt($input.attr("counter"));
            console.log("Third player2: "+player2);
            bothAlive = true;
        }
        
    });

    //When the attack button is pressed
    $(".attack").on("click", function(){
        if(player1 && player2 && bothAlive&&lastEnemy==false){

            console.log("You attacked "+player2+" for "+attackP1+ " damage.");
            healthP2 -= attackP1;

            //decreases health on the buttons depending on who player 2 is
            if(player2=="Obi-Wan Kenobi"){
                $("#obiHealth").html(healthP2);
            }
            else if(player2=="Luke Skywalker"){
                 $("#lukeHealth").html(healthP2);
            }
            else if(player2=="Darth Sidious"){
                 $("#emperorHealth").html(healthP2);
            }
            else if(player2=="Darth Maul"){
                 $("#maulHealth").html(healthP2);
            }

            //check that player 2 is living
            if(healthP2>0){

                attackP1 += defaultAttack;      //incriment player 1 attack
                console.log(player2+" now has "+healthP2+" health.");
                console.log(player2+" attacked you back for "+counterP2+" damage.");
                healthP1 -= counterP2;          //decriment player 1 health 

                //decreases health on the buttons depending on which char is player 1
                if(player1=="Obi-Wan Kenobi"){
                    $("#obiHealth").html(healthP1);
                }
                else if(player1=="Luke Skywalker"){
                     $("#lukeHealth").html(healthP1);
                }
                else if(player1=="Darth Sidious"){
                     $("#emperorHealth").html(healthP1);
                }
                else if(player1=="Darth Maul"){
                     $("#maulHealth").html(healthP1);
                }

                console.log("you now have "+healthP1+" health.");

                //check if player 1 is dead
                if(healthP1<=0){
                    bothAlive = false;      //set the trigger that both players are not alive
                    console.log("You died. Reset to continue!");
                }
                
            }
            //check if player 2 is dead 
            else if(healthP2<=0){
                //
                if(!(obi&&luke&&emperor&&maul)){
                    attackP1 += defaultAttack;
                    console.log(player2 + " is dead. Pick new enemy");
                    resetP2();             //reset player 2 
                    bothAlive = false;
                    battleMode = false;
                }
                else if(obi&&luke&&emperor&&maul){
                    lastEnemy = true;
                    console.log("You Won!! GAME OVER!!!");
                }
            }
            else if(healthP1<=0){
                bothAlive = false;
                console.log("You died. Reset to continue.");
            }

        }
        
    });


</script>

</body>
</html>